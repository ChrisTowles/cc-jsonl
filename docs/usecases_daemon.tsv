ユースケース名	説明
ファイル監視開始	指定されたディレクトリパターンでClaude Codeのチャットログファイルの監視を開始する
新規ファイル検知	新しく作成された.jsonlファイルを検知する
ファイル更新検知	既存の.jsonlファイルの更新を検知する
ファイル削除検知	チャットログファイルの削除を検知する（必要に応じて）
ファイル内容解析	JSON Lines形式のチャットログファイルの内容を解析する
プロジェクト情報抽出	チャットログファイルのパスからプロジェクト名を抽出する
セッション情報抽出	チャットログファイルのパスからセッションIDを抽出する
メッセージパース	各行のJSONメッセージをパースしてメッセージオブジェクトに変換する
未知フォーマット対応	パースできない形式のメッセージも保存対象として処理する
ツール情報パース	未知のToolでもパースエラーにならないよう処理する
プロジェクトデータ保存	プロジェクト情報をデータベースに保存する
セッションデータ保存	セッション情報をデータベースに保存する
メッセージデータ保存	パースしたメッセージをデータベースに保存する
データベース接続管理	データベースへの接続を安全に管理する
エラーハンドリング	ファイル読み込みエラーやデータベースエラーを適切に処理する
ログ出力	監視サービスの動作状況をログ出力する
設定管理	監視対象ディレクトリやデータベース接続情報等の設定を管理する
プロセス管理	デーモンプロセスとしての起動・停止・再起動を管理する
リソース管理	メモリ使用量やファイルハンドル等のリソースを適切に管理する
差分更新処理	既存セッションに新しいメッセージが追加された場合の差分更新処理