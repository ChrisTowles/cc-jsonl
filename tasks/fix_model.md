# モデルを改善する

## 背景

- `CLAUDE.md` にガイダンスを記載した
- `docs/requirements.md` に要件を定義した
- `docs/schema.json` に想定されるチャットログのスキーマを記載した
- モデル定義が不適切である

## タスク

- モデル定義を改善する
- モデル定義に合わせでデータベーススキーマを修正する
- モデル定義に合わせてロジックを修正する

## 条件

- LogEntryBaseの `uuid` `parentUuid` `cwd` をメッセージのモデルに追加する
    - `uuid` はユニークとし、重複した場合はupsertする
- `cwd` をセッションモデルにも追加する
    - 最新のメッセージの `cwd` をセッションの `cwd` とする
